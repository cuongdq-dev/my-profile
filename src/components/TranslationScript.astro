<script>
  import { ui, type UiKeys, defaultLang } from "../utils/ui.ts";

  const translations = ui;
  function updateLanguage() {
    const lang = localStorage.getItem("lang") || defaultLang;
    document.querySelectorAll("[data-i18n]").forEach((el) => {
      const element = el as HTMLElement; // ðŸ‘ˆ Fix: Cast Element to HTMLElement
      const key = element.dataset.i18n as UiKeys; // âœ… No TypeScript error now
      if (key && translations[lang][key]) {
        element.textContent = translations[lang][key];
      }
    });
  }

  document.addEventListener("DOMContentLoaded", updateLanguage);
  window.addEventListener("languageChange", updateLanguage);
</script>
